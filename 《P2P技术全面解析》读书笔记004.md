#### 4 P2P网络中的资源地位方法
把资源定位非为“资源搜索”和“资源查询”，“资源搜索”特指查询请求的传播操作，“资源查询”包括查询请求的传播以及获取该资源或是其索引的整个过程。***非结构化P2P网络***中的资源搜索算法包含++盲目搜索算法++以及++启发智能搜索算法++，***结构化P2P网络***中除了++精确定位++的一些资源查询算法之外，包括++关键字查询++和++语义查询++。
##### 4.1 资源搜索算法
- 盲目搜索：
- 启发式智能搜索算法：

###### 4.1.1 盲目搜索算法

1. 泛洪搜索算法（广度优先搜索方法）
    - 网络中，每个节点不知道其他节点的资源，当节点在网络中搜索资源时，该节点向他所临近的节点广播查询消息，当接到查询请求的邻居节点包含所需的资源就返回命中信息给查询请求节点，同时向邻居节点广播该查询请求，过程不断进行下去，为限制搜索范围一般设置TTL最大请求跳数的初始值。
    - 实例：Gnutella，TTL=7被认为能达到参与重叠网络中的大部分节点（约95%）
    - 优点：回应时间短；覆盖范围广；可靠性高；节点的加入离开对这个系统影响非常小。
    - 缺点：带宽消耗严重；可扩展性差。大量对冗余导致
2. 迭代泛洪搜索算法
    - 在迭代泛洪搜索中，进行多次泛洪搜索，每次的深度限制（TTL）是递增的，当查询结果满足要求或者已经达到最大深度限制时，过程结束。在泛洪中，随着深度增加，节点个数呈指数级增长。因此如果能够在小于D（最大深度限制）的深度找到满意的结果，与直接以深度为D泛洪搜索相比，不必要查询很多节点，节省资源。
    - 好的情况下，可以介绍执行查询操作的节点个数，从而减少搜索资源的开销；坏的情况下，可能要进行最后一次迭代，占用了网络带宽，也给节点增加了处理负担。
3. 随机漫步搜索算法
    - 标准的随机搜索是指各节点将搜索消息转发给随机选择的某一个邻居。
    - 一种方法为K路随机转发：请求者发出K个查询请求给随机挑选的K个相邻节点，然后每个查询信息在系统中独立的进行随机转发，并在以后的搜索过程中周期性的与原始请求保持联系，询问是否继续下一步，如果统一继续漫步搜索，则开始随机选择下一步漫步搜索的节点，否则中止。
    - 另一种是随机BFS方法：与K路不同的是，每个接受到搜索请求的节点将搜索请求转发到多个随机选择的邻居节点上，知道搜索请求满足TTL=0。
    - 随机BFS的搜索延迟比K路随机转发的方法小，但会产生更多的信息开销。
    - 与泛洪搜索相比：节点对同一资源对象发出多次搜索请求，而在两次搜索之间P2P系统拓扑变化不大，具有较强相关性；P2P系统中存在接待你聚集现象，即属于同一社区（物理上临近的区域）的节点间连接数较多，而处于不同社区的节点间连接数较少；一般来说，各种随机搜索方法产生的消息开销较少，但搜索延迟较大。
4. 区域索引法
    - 是泛洪算法的改进算法，以优化其性能。每个节点保存一个数据索引，索引记录和自己距离为r跳以内的所有节点上所保存的数据，r表示索引半径，系统设置的变量。
    - 这样只需要处理少量节点就能查到结果，所以这个方法能保证查询结果的数量，同时也能保持较低的开销。但是建立和维护索引也需要一定的开销。
5. 最大聚集度优先查询算法
    - 利用P2P网络拓扑具有“小群体”特性，每个节点保存三个表：
        - 记录本节点的共享信息文件路由表——“本地共享信息文件路由表”；
        - 记录与本节点相邻的对等节点的邻居连接关系信息——“相邻节点聚集度表”；
        - 记录与本节点相邻的对等节点的共享信息文件路由表——“相邻共享信息文件路由表”
    - 当一个节点需要进行共享信息查询时，该节点首先查找“本地共享信息文件路由表”，若命中直接相应查询命中包，若未命中查询“相邻共享信息文件路由表”，若命中则与具有待查共享信息的对等节点建立连接，现在需要的信息，否则，查找“相邻节点聚集度表”，找其中聚集度高的节点并发送请求信息。以此类推，直到TTL=0。
    - Gnutella节点拓扑具有幂规律，因此少数节点有较高聚集度。如果不具有此规律度要么是连通度很高、很规则的“规则网络”，不存在最大聚集度节点，要么是连通度较低、节点分布随机的普通“随机网络”，聚集度随机分布，无法利用最大聚集度节点提高查询效率。所以“最大聚集度”适用于满足幂规律，仅有少数较高聚集度节点的随机网络。
6. 基于超节点的查询方法