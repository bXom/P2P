#### 2 主流P2P应用
##### 2.1 文件共享
###### 2.1.1 Napster
1. 是一个音乐共享软件，用户将自己的音乐发布到目录服务器上，其他用户可在目录服务器搜索下载，特点在与用户只提供文件的地址、目录和索引，实际文件保存在个人计算机上；
2. 结构上属于中心化拓扑的P2P网络，系统由目录服务器和各个客户端组成，目录服务器主要负责网络中所有的共享资源的管理，并提供资源查询，客户端安装在个人计算机上，可动态加入或离开网络；
3. 当用户需要某个音乐文件时，客户端先连接到中央目录索引服务器，在服务器上检索，服务器返回存有改文件的用户信息，再由请求者连接到文件所有者并传输文件；
4. 实现了文件查询与传输分离，节省中央服务器的带宽消耗，减少了系统的文件传输延时，中央服务器易部署，客户端开发容易，但造成了（1）中央索引服务器的瘫痪容易导致整个网络的崩溃，安全性、可靠性较低，（2）随着网络规模扩大，中央索引服务器维护更新费用成本增高；

###### 2.1.2 Gnutella
1. 可以寻找和下载任何种类计算机文件，所有兼容Gnutella应用网络且运用Gnutella协议约定的无中心交流方式，被称为Gnutella网络；
2. Gnutella协议模型中，所有客户端都是一个服务器，Gnutella协议包含5种类型的消息，Ping/Pong/Query/QueryHit/Push，查询采用泛洪的方式。

###### 2.1.3 BitTorrent
1. 采用多点对多点的传输原理，一个文件的多个下载者之间相互上传自己所拥有的文件片段，直到所有用户下载全部完成；
2. 常见BT客户端，BitTorrent/Azureus/BitTorrent Shadow/BitTorrent Plus/BitComet/uTorrent等。

###### 2.1.4 eMule
1. 基于eDonkey协议，eDonkey协议定义了一系列文件传输、压缩、打包标准和用户积分标准，eMule在基础上增加了自动搜索网络中的服务器、缓存搜索结果、与其他节点减缓服务器地址等功能；
2. 于是BT相似，特点在于文件搜索功能强大。索引服务器分布在网络各个地方，且客户端与服务器间多对多的关系，每个客户端维护一个服务器列表，当客户端接入网络时，先通过TCP方式，把自己的共享文件信息及地址信息发送给主服务器，随后用UDP通信的方式把相同的信息发送给其他服务器，这样在搜索的时候，可向多个服务器发送请求，并从多个拥有这个文件的服务器同时下载不同的文件块。

###### 2.1.5 Maze
文件共享系统，类似Napster，拥有中心拓扑的P2P网络架构，包含用户服务器、心跳服务器、索引和目录服务器、检索服务器以及种子服务器。

##### 2.2 即时通信
###### 2.2.1 Skype
1. 网络电话，完全分布式的P2P VoIP系统，设计原理是一种重叠的对等网络，包含注册服务器、普通节点和超级节点三种角色；
2. 注册服务器是唯一有集中控制功能的服务器，存储用户名和密码信息。用户通过其进行注册认证、广播在线状态和好友信息，验证防火墙和NAT种类，获得更新的超节点列表；
3. VoIP接续和用户查找由普通节点和超级节点组成的Skype网络完成。普通节点可进行普通的VoIP呼叫和即时消息，超级节点除此外还可做普通节点的转节点；
4. 通信模式分为：Skype、SkypeIn、SkypeOut三种对应了PC-PC、PC-Phone、Phone-PC。

###### 2.2.2 GTalk
1. Google Talk，即时聊天工具，支持文字和语音，基于Jabber开源标准，可以与其他即时通信系统相连，Gmail和GTalk可互相通信；
2. 结构上属于典型的中心拓扑的P2P结构，用户登录客户端后，需到服务器验证自己的身份，同时取回好友列表及在线消息，登录后在线好友消息会包含好友的IP地址，因此可进行点到点通信。聊天记录会向服务器发送一份副本。

###### 2.2.3 QQ
与GTalk类似，拥有强大的中心服务器，双方通信一般情况采用P2P方式，离线功能选择经过服务器中转。

##### 2.3 流媒体
###### 2.3.1 PPLive
1. 在线视频播放共享软件，采用P2P，在用户收看节目的同时为其他收看相同节目的用户提供了节目资源；
2. 采用混合架构，继承结合了C/S和P2P架构各自的优势，位于中心的是视频源和服务器，服务器负责记录当前用户选择的频道，视频节目被分成固定长度的帧，用户可从其他观看同一节目的用户节点处下载视频数据帧，而且每个节点会缓冲一定时间内的视频数据。

###### 2.3.2 PPStream
一套完整的基于P2P技术的流媒体超大规模应用解决方案，包括流媒体编码发布、广播、播放、和超大规模用户直播，提供稳定流畅的视频直播节目。采用P2P-Streaming技术，具有用户越多播放越稳定、支持数万人同时在线的大规模访问等特点。

###### 2.3.3 AnySee
1. 华中科技大学研发的视频直播系统，基于混合网络结构的对等网络直播平台，目标是充分利用对等网络中节点的空闲带宽见效各服务器的负载，采用一对多的服务模式，支持部分NAT和防火墙穿越，利用近播原则、分域调度的思想，使用Landmark路标算法直接建树的方式构建应用层上的多播树，克服了ESM等一对多模式系统由连接图的构造和维护带来的负载影响；
2. 主要特色：
    1. 支持流媒体直播和时移；
    2. 网络逻辑拓扑与低层无力网络拓扑相互匹配；
    3. 高效的数据缓冲管理机制和负载平衡的调度策略；
    4. 高可靠性，高可扩展性；
    5. 支持NAT穿越。
3. 体系结构上由索引服务器、广播服务器、电子节目菜单服务器和对等网络四部分组成。

##### 2.4 共享存储
###### 2.4.1 CFS
1. 在Chord协议的基础上提出的一个制度文件系统，提供文件系统语义，只允许信息发布者更新内容，不支持同步更新语义；
2. 系统结构分为三层：FS层负责将底层存储的数据对象解释为具体的文件，对上层应用表现为文件系统接口，DHash层负责数据对象的可靠存储，Chord层负责提供对数据对象进行查找的具体路由方式；
3. 同时DHash会对数据块做k个完全副本，用DHT方式将副本放置在数块ID对应的负责节点及后继节点上，当Chord网络检测到有一个副本丢失时，数据块的祝节点负责立即再修复处一个副本。

###### 2.4.2 Total Recall
1. P2P共享存储系统，特点在于可自动配置系统所需的各种参数，包括冗余法、冗余度和修复时间等，以避免繁琐困难的人工设置；
2. 在冗余方法上，针对不同类型数据分别使用副本或纠删码方式或混合的方式；冗余的数据被随机分发至网络中多个存储节点上。祝节点负责维护数据多个副本的位置信息、检测存储节点的状态以及修复失去的冗余数据。主节点负责周期性的探测数据节点，以检测他们的活动状态，当节点不在线时，修复失去的冗余数据；
3. 提出了保证可用性的三个重要技术：
    1. 可用性的预测，即通过长期的观察系统中节点的可用性，预测节点短期在线概率和节点长期离开概率；
    2. 冗余管理，即根据存储节点的动态性和目标的可用性要求，自动选择冗余方案和所需的冗余度；
    3. 数据修复，即根据对节点长期离开率的预测，系统应能不断修复丢失的冗余数据。

###### 2.4.3 OceanStore
海量存储系统，处理的基本数据是对象，对象大小任意，提供一套完整的API，用于对象数据的存储访问和控制。底层的结构化覆盖网为Tapestry，一个基于DHT来进行数据转发和网络连接的P2P协议，不直接使用DHT存储实际数据，仅利用DHT存储数据指针。

###### 2.4.4 Granary
1. P2P存储系统，以面向对象的方式提供数据存储和访问方式。简化了上层的编码实现，上层应用开发者可以直接将面向对象应用程序的数据对象存储到Granary中，随后通过查询获取数据，而不需要额外的进行应用程序和存储系统间的数据转换；
2. 底层网络采用Tourist路由算法，根据网络的动态情况自适应的改变自己的路由表大小，保证路由效率；
3. 数据存储与复制方面，采用完全副本的数据冗余方式，冗余后的数据被均匀的分发到网络节点上，防止相关性错误，冗余数据所在节点的IP列表以及数据对象的属性被作为元数据，以DHT的方式存储在P2P网络中；
4. 利用PeerWindow算法向目录节点广播节点加入和离开事件，系统为用户存放2倍于用户指定的数据副本数，当系统中副本数低于用户指定的副本数，除法修复操作。

##### 2.5 对等计算与协同处理
###### 2.5.1 SETUI@home
是一个通过互联网利用家用个人计算机处理天文数据的分布式计算项目，通过分析设点望远镜采集的无线电信号，搜寻能够证明外形只能生物存在的证据。

###### 2.5.2 Groove
基于P2P的协同软件工具，可建立一个安全的企业级协同工作平台，提供各方面的互动信息沟通，在保证数据安全的同时又保证用户穿过防火墙访问数据，从而达到协同工作的目的。